{"version":3,"sources":["themes/theme.ts","containers/MyApp.tsx","index.tsx"],"names":["lightTheme","createMuiTheme","props","MuiAppBar","position","MuiCard","elevation","overrides","root","background","palette","default","darkTheme","type","grey","paper","MuiTable","MuiTypography","color","languages","MyApp","darkMode","useDarkMode","useState","setIsEditorReady","defaultValue","value","setValue","results","setResults","React","languageAnchorEl","setLanguageAnchorEl","selectedLanguage","setSelectedLanguage","useEffect","th","monaco","setTheme","t","useTranslation","theme","handleEditorDidMount","editor","result","JSON","parse","tr","JsonSchemaToTypes","to","e","console","error","handleTranspile","AppBar","Toolbar","Grid","container","alignContent","alignItems","justify","Typography","variant","style","paddingRight","Tooltip","title","Button","onClick","event","currentTarget","endIcon","Menu","id","anchorEl","keepMounted","open","Boolean","onClose","Object","values","map","language","i","MenuItem","IconButton","toggle","CssBaseline","split","minSize","maxSize","defaultSize","flexGrow","height","onChange","ev","v","editorDidMount","options","minimap","enabled","wordWrap","lineNumbers","wrappingIndent","readOnly","showFoldingControls","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e087d746.chunk.js","sourcesContent":["import { createMuiTheme } from \"@material-ui/core/styles\";\nimport grey from \"@material-ui/core/colors/grey\";\n\nexport const lightTheme = createMuiTheme({\n  props: {\n    MuiAppBar: {\n      position: \"sticky\",\n    },\n    MuiCard: {\n      elevation: 0,\n    },\n  },\n  overrides: {\n    MuiAppBar: {\n      root: {\n        background: \"#fff !important\",\n      },\n    },\n  },\n  palette: {\n    background: {\n      default: \"#fff\",\n    },\n  },\n});\n\nexport const darkTheme = createMuiTheme({\n  props: {\n    MuiAppBar: {\n      position: \"sticky\",\n    },\n    MuiCard: {\n      elevation: 0,\n    },\n  },\n  palette: {\n    type: \"dark\",\n    background: {\n      default: grey[900],\n      paper: grey[800],\n    },\n  },\n  overrides: {\n    MuiAppBar: {\n      root: {\n        background: \"transparent !important\",\n      },\n    },\n    MuiTable: {\n      root: {\n        background: \"transparent !important\",\n      },\n    },\n    MuiTypography: {\n      root: {\n        color: grey[400],\n      },\n    },\n  },\n});\n\nexport default {\n  darkTheme,\n  lightTheme,\n};\n","import React, { useState, useEffect } from \"react\";\nimport { MuiThemeProvider, AppBar, Toolbar, Typography, IconButton, Tooltip, CssBaseline, Grid, Menu, Button, MenuItem } from \"@material-ui/core\"; //tslint:disable-line\nimport useDarkMode from \"use-dark-mode\";\nimport Brightness3Icon from \"@material-ui/icons/Brightness3\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport * as monaco from \"monaco-editor\";\nimport WbSunnyIcon from \"@material-ui/icons/WbSunny\";\nimport { lightTheme, darkTheme } from \"../themes/theme\";\nimport { useTranslation } from \"react-i18next\";\nimport SplitPane from \"react-split-pane\";\nimport JsonSchemaToTypes, { SupportedLanguages } from \"@etclabscore/json-schema-to-types\";\nimport \"./MyApp.css\";\nimport Editor from \"@etclabscore/react-monaco-editor\";\n\nconst languages: SupportedLanguages[] = [\"typescript\", \"golang\", \"python\", \"rust\"];\n\nconst MyApp: React.FC = () => {\n  const darkMode = useDarkMode();\n  const [, setIsEditorReady] = useState(false);\n  const [defaultValue] = useState(`{\\n  \"title\": \"foo\",\\n  \"type\": \"string\" \\n}`)\n  const [value, setValue] = useState(defaultValue);\n  const [results, setResults] = useState(\"\");\n  const [languageAnchorEl, setLanguageAnchorEl] = React.useState<null | HTMLElement>(null);\n  const [selectedLanguage, setSelectedLanguage]: [SupportedLanguages, any] = useState(\"typescript\");\n\n  useEffect(() => {\n    const th = darkMode.value ? \"vs-dark\" : \"vs\";\n    monaco.editor.setTheme(th);\n  }, [darkMode.value]);\n\n  function handleTranspile() {\n    try {\n      const result = JSON.parse(value);\n      const tr = new JsonSchemaToTypes(result);\n      setResults(tr.to(selectedLanguage));\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  const { t } = useTranslation();\n  const theme = darkMode.value ? darkTheme : lightTheme;\n\n  const handleLanguageClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setLanguageAnchorEl(event.currentTarget);\n  };\n  const handleLanguageClose = () => {\n    setLanguageAnchorEl(null);\n  };\n  const handleLanguageChange = (lang: string) => {\n    setSelectedLanguage(lang);\n    setLanguageAnchorEl(null);\n  };\n\n  const handleEditorDidMount = (editor: any) => {\n    setIsEditorReady(true);\n  };\n\n  useEffect(() => {\n    handleTranspile();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [value, selectedLanguage]);\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <AppBar position=\"static\" color=\"default\" elevation={0}>\n        <Toolbar>\n          <Grid container alignContent=\"center\" alignItems=\"center\" justify=\"flex-start\">\n            <Typography variant=\"h6\" style={{ paddingRight: \"20px\" }}>{t(\"json-schema.tools\")}</Typography>\n            <Typography variant=\"caption\" style={{ paddingRight: \"5px\" }}>\n              {t(\"playground\")}\n            </Typography>\n          </Grid>\n          <Grid container alignContent=\"center\" alignItems=\"center\" justify=\"flex-end\">\n            {<>\n              <Tooltip title={\"Language\"}>\n                <>\n                  <Typography variant=\"body1\" style={{ paddingRight: \"10px\" }}>Language:</Typography>\n                  <Button onClick={handleLanguageClick} variant=\"outlined\" endIcon={\n                    <ArrowDropDownIcon />\n                  }>{selectedLanguage}</Button>\n                </>\n              </Tooltip>\n              <Menu\n                id=\"input-menu\"\n                anchorEl={languageAnchorEl}\n                keepMounted\n                open={Boolean(languageAnchorEl)}\n                onClose={handleLanguageClose}\n              >\n                {Object.values(languages).map((language, i) => (\n                  <MenuItem onClick={(event) => handleLanguageChange(language)}>{language}</MenuItem>\n                ))}\n              </Menu>\n            </>\n            }\n            <Tooltip title={t(\"Toggle Dark Mode\")}>\n              <IconButton onClick={darkMode.toggle}>\n                {darkMode.value ? <Brightness3Icon /> : <WbSunnyIcon />}\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n      <CssBaseline />\n      <SplitPane split=\"vertical\" minSize={100} maxSize={-100} defaultSize={\"35%\"} style={{ flexGrow: 1 }}>\n        <Editor\n          height=\"90vh\"\n          value={defaultValue}\n          onChange={(ev: any, v: string) => {\n            setValue(v);\n          }}\n          editorDidMount={handleEditorDidMount}\n          language=\"json\"\n        />\n        <Editor\n          height=\"90vh\"\n          editorDidMount={handleEditorDidMount}\n          options={{\n            minimap: {\n              enabled: false,\n            },\n            wordWrap: \"on\",\n            lineNumbers: \"off\",\n            wrappingIndent: \"deepIndent\",\n            readOnly: true,\n            showFoldingControls: \"always\",\n          }}\n          value={results}\n          language={selectedLanguage}\n        />\n        <div>\n        </div>\n      </SplitPane>\n    </MuiThemeProvider>\n  );\n};\n\nexport default MyApp;\n","import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport MyApp from \"./containers/MyApp\";\n\nReactDOM.render(<MyApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}